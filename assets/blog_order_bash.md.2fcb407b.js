import{_ as s,o as n,c as a,U as l}from"./chunks/framework.76b79cb5.js";const E=JSON.parse('{"title":"bash 命令","description":"","frontmatter":{},"headers":[],"relativePath":"blog/order/bash.md","filePath":"blog/order/bash.md","lastUpdated":1688956399000}'),p={name:"blog/order/bash.md"},o=l(`<h1 id="bash-命令" tabindex="-1">bash 命令 <a class="header-anchor" href="#bash-命令" aria-label="Permalink to &quot;bash 命令&quot;">​</a></h1><div class="tip custom-block"><p class="custom-block-title">相关介绍</p><ul><li><a href="https://www.gnu.org/software/bash/" target="_blank" rel="noreferrer">GNU Bash - 官网</a></li><li><a href="https://zh.wikipedia.org/zh/Bash" target="_blank" rel="noreferrer">bash - 维基百科</a></li></ul></div><h2 id="基本操作" tabindex="-1">基本操作 <a class="header-anchor" href="#基本操作" aria-label="Permalink to &quot;基本操作&quot;">​</a></h2><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight has-highlighted-lines"><code><span class="line highlighted"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">exit</span><span style="color:#A6ACCD;">                </span><span style="color:#676E95;font-style:italic;"># 退出当前登陆（退出终端）</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">env</span><span style="color:#A6ACCD;">                 </span><span style="color:#676E95;font-style:italic;"># 显示环境变量</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">echo</span><span style="color:#A6ACCD;"> $SHELL         </span><span style="color:#676E95;font-style:italic;"># 显示你在使用什么 SHELL</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">bash</span><span style="color:#A6ACCD;">                </span><span style="color:#676E95;font-style:italic;"># 使用 bash，用 exit 返回</span></span>
<span class="line highlighted"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">which</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">bash</span><span style="color:#A6ACCD;">          </span><span style="color:#676E95;font-style:italic;"># 搜索 $PATH，查找哪个程序对应命令 bash</span></span>
<span class="line highlighted"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">whereis</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">bash</span><span style="color:#A6ACCD;">        </span><span style="color:#676E95;font-style:italic;"># 搜索可执行，头文件和帮助信息的位置，使用系统内建数据库</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">whatis</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">bash</span><span style="color:#A6ACCD;">         </span><span style="color:#676E95;font-style:italic;"># 查看某个命令的解释，一句话告诉你这是干什么的</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">clear</span><span style="color:#A6ACCD;">               </span><span style="color:#676E95;font-style:italic;"># 清除屏幕内容</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">reset</span><span style="color:#A6ACCD;">               </span><span style="color:#676E95;font-style:italic;"># 重置终端</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="目录操作" tabindex="-1">目录操作 <a class="header-anchor" href="#目录操作" aria-label="Permalink to &quot;目录操作&quot;">​</a></h2><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight has-highlighted-lines"><code><span class="line highlighted"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cd</span><span style="color:#A6ACCD;">                  </span><span style="color:#676E95;font-style:italic;"># 返回自己 $HOME 目录</span></span>
<span class="line highlighted"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{dirname}</span><span style="color:#A6ACCD;">        </span><span style="color:#676E95;font-style:italic;"># 进入目录</span></span>
<span class="line highlighted"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pwd</span><span style="color:#A6ACCD;">                 </span><span style="color:#676E95;font-style:italic;"># 显示当前所在目录</span></span>
<span class="line highlighted"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mkdir</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{dirname}</span><span style="color:#A6ACCD;">     </span><span style="color:#676E95;font-style:italic;"># 创建目录</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mkdir</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{dirname}</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;"># 递归创建目录</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pushd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{dirname}</span><span style="color:#A6ACCD;">     </span><span style="color:#676E95;font-style:italic;"># 目录压栈并进入新目录</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">popd</span><span style="color:#A6ACCD;">                </span><span style="color:#676E95;font-style:italic;"># 弹出并进入栈顶的目录</span></span>
<span class="line highlighted"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dirs</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-v</span><span style="color:#A6ACCD;">             </span><span style="color:#676E95;font-style:italic;"># 列出当前目录栈</span></span>
<span class="line highlighted"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-</span><span style="color:#A6ACCD;">                </span><span style="color:#676E95;font-style:italic;"># 回到之前的目录</span></span>
<span class="line highlighted"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-{N}</span><span style="color:#A6ACCD;">             </span><span style="color:#676E95;font-style:italic;"># 切换到目录栈中的第 N个目录，比如 cd -2 将切换到第二个</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="文件操作" tabindex="-1">文件操作 <a class="header-anchor" href="#文件操作" aria-label="Permalink to &quot;文件操作&quot;">​</a></h2><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight has-highlighted-lines has-diff"><code><span class="line highlighted"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ls</span><span style="color:#A6ACCD;">                  </span><span style="color:#676E95;font-style:italic;"># 显示当前目录内容，后面可接目录名：ls {dir} 显示指定目录</span></span>
<span class="line highlighted"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ls</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-l</span><span style="color:#A6ACCD;">               </span><span style="color:#676E95;font-style:italic;"># 列表方式显示目录内容，包括文件日期，大小，权限等信息</span></span>
<span class="line highlighted"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ls</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-1</span><span style="color:#A6ACCD;">               </span><span style="color:#676E95;font-style:italic;"># 列表方式显示目录内容，只显示文件名称，减号后面是数字 1</span></span>
<span class="line highlighted"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ls</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-a</span><span style="color:#A6ACCD;">               </span><span style="color:#676E95;font-style:italic;"># 显示所有文件和目录，包括隐藏文件（.开头的文件/目录名）</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ln</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-s</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{fn}</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{link}</span><span style="color:#A6ACCD;">   </span><span style="color:#676E95;font-style:italic;"># 给指定文件创建一个软链接</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cp</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{src}</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{dest}</span><span style="color:#A6ACCD;">     </span><span style="color:#676E95;font-style:italic;"># 拷贝文件，cp -r dir1 dir2 可以递归拷贝（目录）</span></span>
<span class="line highlighted"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">rm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{fn}</span><span style="color:#A6ACCD;">             </span><span style="color:#676E95;font-style:italic;"># 删除文件，rm -r 递归删除目录，rm -f 强制删除</span></span>
<span class="line highlighted"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">rm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-rf</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{fn}</span><span style="color:#A6ACCD;">         </span><span style="color:#676E95;font-style:italic;"># 删除指定文件夹所有内容</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mv</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{src}</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{dest}</span><span style="color:#A6ACCD;">     </span><span style="color:#676E95;font-style:italic;"># 移动文件，如果 dest 是目录，则移动，是文件名则覆盖</span></span>
<span class="line highlighted"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">touch</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{fn}</span><span style="color:#A6ACCD;">          </span><span style="color:#676E95;font-style:italic;"># 创建或者更新一下制定文件</span></span>
<span class="line highlighted"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cat</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{fn}</span><span style="color:#A6ACCD;">            </span><span style="color:#676E95;font-style:italic;"># 输出文件原始内容</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">any_cmd</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{fn}</span><span style="color:#A6ACCD;">      </span><span style="color:#676E95;font-style:italic;"># 执行任意命令并将标准输出重定向到指定文件</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">more</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{fn}</span><span style="color:#A6ACCD;">           </span><span style="color:#676E95;font-style:italic;"># 逐屏显示某文件内容，空格翻页，q 退出</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">less</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{fn}</span><span style="color:#A6ACCD;">           </span><span style="color:#676E95;font-style:italic;"># 更高级点的 more，更多操作，q 退出</span></span>
<span class="line highlighted"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">head</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{fn}</span><span style="color:#A6ACCD;">           </span><span style="color:#676E95;font-style:italic;"># 显示文件头部数行，可用 head -3 abc.txt 显示头三行</span></span>
<span class="line highlighted"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">tail</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{fn}</span><span style="color:#A6ACCD;">           </span><span style="color:#676E95;font-style:italic;"># 显示文件尾部数行，可用 tail -3 abc.txt 显示尾部三行</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">tail</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-f</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{fn}</span><span style="color:#A6ACCD;">        </span><span style="color:#676E95;font-style:italic;"># 持续显示文件尾部数据，可用于监控日志</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nano</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{fn}</span><span style="color:#A6ACCD;">           </span><span style="color:#676E95;font-style:italic;"># 使用 nano 编辑器编辑文件</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">vim</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{fn}</span><span style="color:#A6ACCD;">            </span><span style="color:#676E95;font-style:italic;"># 使用 vim 编辑文件</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">diff</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{f1}</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{f2}</span><span style="color:#A6ACCD;">      </span><span style="color:#676E95;font-style:italic;"># 比较两个文件的内容</span></span>
<span class="line highlighted"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">wc</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{fn}</span><span style="color:#A6ACCD;">             </span><span style="color:#676E95;font-style:italic;"># 统计文件有多少行，多少个单词</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">chmod</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">644</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{fn}</span><span style="color:#A6ACCD;">      </span><span style="color:#676E95;font-style:italic;"># 修改文件权限为 644，可以接 -R 对目录循环改权限</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">chgrp</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">group</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{fn}</span><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># 修改文件所属的用户组</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">chown</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">user1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{fn}</span><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># 修改文件所有人为 user1, chown user1:group1 fn 可以修改组</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">file</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{fn}</span><span style="color:#A6ACCD;">           </span><span style="color:#676E95;font-style:italic;"># 检测文件的类型和编码</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">basename</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{fn}</span><span style="color:#A6ACCD;">       </span><span style="color:#676E95;font-style:italic;"># 查看文件的名字（不包括路径）</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dirname</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{fn}</span><span style="color:#A6ACCD;">        </span><span style="color:#676E95;font-style:italic;"># 查看文件的路径（不包括名字）</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">grep</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{pat}</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{fn}</span><span style="color:#A6ACCD;">     </span><span style="color:#676E95;font-style:italic;"># 在文件中查找出现过 pat 的内容</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">grep</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-r</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{pat}</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">.</span><span style="color:#A6ACCD;">     </span><span style="color:#676E95;font-style:italic;"># 在当前目录下递归查找所有出现过 pat 的文件内容</span></span>
<span class="line highlighted"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">stat</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{fn}</span><span style="color:#A6ACCD;">           </span><span style="color:#676E95;font-style:italic;"># 显示文件的详细信息</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><h2 id="系统信息" tabindex="-1">系统信息 <a class="header-anchor" href="#系统信息" aria-label="Permalink to &quot;系统信息&quot;">​</a></h2><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight has-highlighted-lines"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">uname</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-a</span><span style="color:#A6ACCD;">                  </span><span style="color:#676E95;font-style:italic;"># 查看内核版本等信息</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">man</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{help}</span><span style="color:#A6ACCD;">                </span><span style="color:#676E95;font-style:italic;"># 查看帮助</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">man</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-k</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{keyword}</span><span style="color:#A6ACCD;">          </span><span style="color:#676E95;font-style:italic;"># 查看哪些帮助文档里包含了该关键字</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">info</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{help}</span><span style="color:#A6ACCD;">               </span><span style="color:#676E95;font-style:italic;"># 查看 info pages，比 man 更强的帮助系统</span></span>
<span class="line highlighted"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">uptime</span><span style="color:#A6ACCD;">                    </span><span style="color:#676E95;font-style:italic;"># 查看系统启动时间</span></span>
<span class="line highlighted"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">date</span><span style="color:#A6ACCD;">                      </span><span style="color:#676E95;font-style:italic;"># 显示日期</span></span>
<span class="line highlighted"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cal</span><span style="color:#A6ACCD;">                       </span><span style="color:#676E95;font-style:italic;"># 显示日历</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">vmstat</span><span style="color:#A6ACCD;">                    </span><span style="color:#676E95;font-style:italic;"># 显示内存和 CPU 使用情况</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">vmstat</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">10</span><span style="color:#A6ACCD;">                 </span><span style="color:#676E95;font-style:italic;"># 每 10 秒打印一行内存和 CPU情况，CTRL+C 退出</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">free</span><span style="color:#A6ACCD;">                      </span><span style="color:#676E95;font-style:italic;"># 显示内存和交换区使用情况</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">df</span><span style="color:#A6ACCD;">                        </span><span style="color:#676E95;font-style:italic;"># 显示磁盘使用情况</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">du</span><span style="color:#A6ACCD;">                        </span><span style="color:#676E95;font-style:italic;"># 显示当前目录占用，du . --max-depth=2 可以指定深度</span></span>
<span class="line highlighted"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">uname</span><span style="color:#A6ACCD;">                     </span><span style="color:#676E95;font-style:italic;"># 显示系统版本号</span></span>
<span class="line highlighted"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">hostname</span><span style="color:#A6ACCD;">                  </span><span style="color:#676E95;font-style:italic;"># 显示主机名称</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">showkey</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-a</span><span style="color:#A6ACCD;">                </span><span style="color:#676E95;font-style:italic;"># 查看终端发送的按键编码</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="用户管理" tabindex="-1">用户管理 <a class="header-anchor" href="#用户管理" aria-label="Permalink to &quot;用户管理&quot;">​</a></h2><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight has-highlighted-lines"><code><span class="line highlighted"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{command}</span><span style="color:#A6ACCD;">      </span><span style="color:#676E95;font-style:italic;"># 以 root 权限执行某命令</span></span>
<span class="line highlighted"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">whoami</span><span style="color:#A6ACCD;">              </span><span style="color:#676E95;font-style:italic;"># 显示我的用户名</span></span>
<span class="line highlighted"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">who</span><span style="color:#A6ACCD;">                 </span><span style="color:#676E95;font-style:italic;"># 显示已登陆用户信息，w / who / users 内容略有不同</span></span>
<span class="line highlighted"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">w</span><span style="color:#A6ACCD;">                   </span><span style="color:#676E95;font-style:italic;"># 显示已登陆用户信息，w / who / users 内容略有不同</span></span>
<span class="line highlighted"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">users</span><span style="color:#A6ACCD;">               </span><span style="color:#676E95;font-style:italic;"># 显示已登陆用户信息，w / who / users 内容略有不同</span></span>
<span class="line highlighted"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">passwd</span><span style="color:#A6ACCD;">              </span><span style="color:#676E95;font-style:italic;"># 修改密码，passwd {user} 可以用于 root 修改别人密码</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">finger</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{user}</span><span style="color:#A6ACCD;">       </span><span style="color:#676E95;font-style:italic;"># 显示某用户信息，包括 id, 名字, 登陆状态等</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">adduser</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{user}</span><span style="color:#A6ACCD;">      </span><span style="color:#676E95;font-style:italic;"># 添加用户</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">deluser</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{user}</span><span style="color:#A6ACCD;">      </span><span style="color:#676E95;font-style:italic;"># 删除用户</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">su</span><span style="color:#A6ACCD;">                  </span><span style="color:#676E95;font-style:italic;"># 切换到 root 用户</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">su</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-</span><span style="color:#A6ACCD;">                </span><span style="color:#676E95;font-style:italic;"># 切换到 root 用户并登陆（执行登陆脚本）</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">su</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{user}</span><span style="color:#A6ACCD;">           </span><span style="color:#676E95;font-style:italic;"># 切换到某用户</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">su</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-{user}</span><span style="color:#A6ACCD;">          </span><span style="color:#676E95;font-style:italic;"># 切换到某用户并登陆（执行登陆脚本）</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">id</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{user}</span><span style="color:#A6ACCD;">           </span><span style="color:#676E95;font-style:italic;"># 查看用户的 uid，gid 以及所属其他用户组</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">id</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-u</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{user}</span><span style="color:#A6ACCD;">        </span><span style="color:#676E95;font-style:italic;"># 打印用户 uid</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">id</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-g</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{user}</span><span style="color:#A6ACCD;">        </span><span style="color:#676E95;font-style:italic;"># 打印用户 gid</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">write</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{user}</span><span style="color:#A6ACCD;">        </span><span style="color:#676E95;font-style:italic;"># 向某用户发送一句消息</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">last</span><span style="color:#A6ACCD;">                </span><span style="color:#676E95;font-style:italic;"># 显示最近用户登陆列表</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">last</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{user}</span><span style="color:#A6ACCD;">         </span><span style="color:#676E95;font-style:italic;"># 显示登陆记录</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">lastb</span><span style="color:#A6ACCD;">               </span><span style="color:#676E95;font-style:italic;"># 显示失败登陆记录</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">lastlog</span><span style="color:#A6ACCD;">             </span><span style="color:#676E95;font-style:italic;"># 显示所有用户的最近登陆记录</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h2 id="进程管理" tabindex="-1">进程管理 <a class="header-anchor" href="#进程管理" aria-label="Permalink to &quot;进程管理&quot;">​</a></h2><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight has-highlighted-lines"><code><span class="line highlighted"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ps</span><span style="color:#A6ACCD;">                        </span><span style="color:#676E95;font-style:italic;"># 查看当前会话进程</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ps</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ax</span><span style="color:#A6ACCD;">                     </span><span style="color:#676E95;font-style:italic;"># 查看所有进程，类似 ps -e</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ps</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">aux</span><span style="color:#A6ACCD;">                    </span><span style="color:#676E95;font-style:italic;"># 查看所有进程详细信息，类似 ps -ef</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ps</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">auxww</span><span style="color:#A6ACCD;">                  </span><span style="color:#676E95;font-style:italic;"># 查看所有进程，并且显示进程的完整启动命令</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ps</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-u</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{user}</span><span style="color:#A6ACCD;">              </span><span style="color:#676E95;font-style:italic;"># 查看某用户进程</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ps</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">axjf</span><span style="color:#A6ACCD;">                   </span><span style="color:#676E95;font-style:italic;"># 列出进程树</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ps</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">xjf</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-u</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{user}</span><span style="color:#A6ACCD;">          </span><span style="color:#676E95;font-style:italic;"># 列出某用户的进程树</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ps</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-eo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pid,user,command</span><span style="color:#A6ACCD;">   </span><span style="color:#676E95;font-style:italic;"># 按用户指定的格式查看进程</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ps</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">aux</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">grep</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">httpd</span><span style="color:#A6ACCD;">       </span><span style="color:#676E95;font-style:italic;"># 查看名为 httpd 的所有进程</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ps</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--ppid</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{pid}</span><span style="color:#A6ACCD;">           </span><span style="color:#676E95;font-style:italic;"># 查看父进程为 pid 的所有进程</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pstree</span><span style="color:#A6ACCD;">                    </span><span style="color:#676E95;font-style:italic;"># 树形列出所有进程，pstree 默认一般不带，需安装</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pstree</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{user}</span><span style="color:#A6ACCD;">             </span><span style="color:#676E95;font-style:italic;"># 进程树列出某用户的进程</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pstree</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-u</span><span style="color:#A6ACCD;">                 </span><span style="color:#676E95;font-style:italic;"># 树形列出所有进程以及所属用户</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pgrep</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{procname}</span><span style="color:#A6ACCD;">          </span><span style="color:#676E95;font-style:italic;"># 搜索名字匹配的进程的 pid，比如 pgrep apache2</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">kill</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{pid}</span><span style="color:#A6ACCD;">                </span><span style="color:#676E95;font-style:italic;"># 结束进程</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">kill</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-9</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{pid}</span><span style="color:#A6ACCD;">             </span><span style="color:#676E95;font-style:italic;"># 强制结束进程，9/SIGKILL 是强制不可捕获结束信号</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">kill</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-KILL</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{pid}</span><span style="color:#A6ACCD;">          </span><span style="color:#676E95;font-style:italic;"># 强制执行进程，kill -9 的另外一种写法</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">kill</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-l</span><span style="color:#A6ACCD;">                   </span><span style="color:#676E95;font-style:italic;"># 查看所有信号</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">kill</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-l</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">TERM</span><span style="color:#A6ACCD;">              </span><span style="color:#676E95;font-style:italic;"># 查看 TERM 信号的编号</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">killall</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{procname}</span><span style="color:#A6ACCD;">        </span><span style="color:#676E95;font-style:italic;"># 按名称结束所有进程</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pkill</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{procname}</span><span style="color:#A6ACCD;">          </span><span style="color:#676E95;font-style:italic;"># 按名称结束进程，除名称外还可以有其他参数</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">top</span><span style="color:#A6ACCD;">                       </span><span style="color:#676E95;font-style:italic;"># 查看最活跃的进程</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">top</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-u</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{user}</span><span style="color:#A6ACCD;">             </span><span style="color:#676E95;font-style:italic;"># 查看某用户最活跃的进程</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">any_command</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;">             </span><span style="color:#676E95;font-style:italic;"># 在后台运行某命令，也可用 CTRL+Z 将当前进程挂到后台</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">jobs</span><span style="color:#A6ACCD;">                      </span><span style="color:#676E95;font-style:italic;"># 查看所有后台进程（jobs）</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">bg</span><span style="color:#A6ACCD;">                        </span><span style="color:#676E95;font-style:italic;"># 查看后台进程，并切换过去</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">fg</span><span style="color:#A6ACCD;">                        </span><span style="color:#676E95;font-style:italic;"># 切换后台进程到前台</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">fg</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{job}</span><span style="color:#A6ACCD;">                  </span><span style="color:#676E95;font-style:italic;"># 切换特定后台进程到前台</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">trap</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cmd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sig1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sig2</span><span style="color:#A6ACCD;">        </span><span style="color:#676E95;font-style:italic;"># 在脚本中设置信号处理命令</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">trap</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sig1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sig2</span><span style="color:#A6ACCD;">         </span><span style="color:#676E95;font-style:italic;"># 在脚本中屏蔽某信号</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">trap</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sig1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sig2</span><span style="color:#A6ACCD;">          </span><span style="color:#676E95;font-style:italic;"># 恢复默认信号处理行为</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nohup</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{command}</span><span style="color:#A6ACCD;">           </span><span style="color:#676E95;font-style:italic;"># 长期运行某程序，在你退出登陆都保持它运行</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nohup</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{command}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;">         </span><span style="color:#676E95;font-style:italic;"># 在后台长期运行某程序</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">disown</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{PID</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">JID}</span><span style="color:#A6ACCD;">          </span><span style="color:#676E95;font-style:italic;"># 将进程从后台任务列表（jobs）移除</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">wait</span><span style="color:#A6ACCD;">                      </span><span style="color:#676E95;font-style:italic;"># 等待所有后台进程任务结束</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><h2 id="网络操作" tabindex="-1">网络操作 <a class="header-anchor" href="#网络操作" aria-label="Permalink to &quot;网络操作&quot;">​</a></h2><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight has-highlighted-lines"><code><span class="line highlighted"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ping</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{host}</span><span style="color:#A6ACCD;">               </span><span style="color:#676E95;font-style:italic;"># ping 远程主机并显示结果，CTRL+C 退出</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ping</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-c</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">N</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{host}</span><span style="color:#A6ACCD;">          </span><span style="color:#676E95;font-style:italic;"># ping 远程主机 N 次</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">traceroute</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{host}</span><span style="color:#A6ACCD;">         </span><span style="color:#676E95;font-style:italic;"># 侦测路由连通情况</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mtr</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{host}</span><span style="color:#A6ACCD;">                </span><span style="color:#676E95;font-style:italic;"># 高级版本 traceroute</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">host</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{domain}</span><span style="color:#A6ACCD;">             </span><span style="color:#676E95;font-style:italic;"># DNS 查询，{domain} 前面可加 -a 查看详细信息</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">whois</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{domain}</span><span style="color:#A6ACCD;">            </span><span style="color:#676E95;font-style:italic;"># 取得域名 whois 信息</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dig</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{domain}</span><span style="color:#A6ACCD;">              </span><span style="color:#676E95;font-style:italic;"># 取得域名 dns 信息</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">route</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-n</span><span style="color:#A6ACCD;">                  </span><span style="color:#676E95;font-style:italic;"># 查看路由表</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">netstat</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-a</span><span style="color:#A6ACCD;">                </span><span style="color:#676E95;font-style:italic;"># 列出所有端口</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">netstat</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-an</span><span style="color:#A6ACCD;">               </span><span style="color:#676E95;font-style:italic;"># 查看所有连接信息，不解析域名</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">netstat</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-anp</span><span style="color:#A6ACCD;">              </span><span style="color:#676E95;font-style:italic;"># 查看所有连接信息，包含进程信息（需要 sudo）</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">netstat</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-l</span><span style="color:#A6ACCD;">                </span><span style="color:#676E95;font-style:italic;"># 查看所有监听的端口</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">netstat</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-t</span><span style="color:#A6ACCD;">                </span><span style="color:#676E95;font-style:italic;"># 查看所有 TCP 链接</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">netstat</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-lntu</span><span style="color:#A6ACCD;">             </span><span style="color:#676E95;font-style:italic;"># 显示所有正在监听的 TCP 和 UDP 信息</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">netstat</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-lntup</span><span style="color:#A6ACCD;">            </span><span style="color:#676E95;font-style:italic;"># 显示所有正在监听的 socket 及进程信息</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">netstat</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-i</span><span style="color:#A6ACCD;">                </span><span style="color:#676E95;font-style:italic;"># 显示网卡信息</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">netstat</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-rn</span><span style="color:#A6ACCD;">               </span><span style="color:#676E95;font-style:italic;"># 显示当前系统路由表，同 route -n</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ss</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-an</span><span style="color:#A6ACCD;">                    </span><span style="color:#676E95;font-style:italic;"># 比 netstat -an 更快速更详细</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ss</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-s</span><span style="color:#A6ACCD;">                     </span><span style="color:#676E95;font-style:italic;"># 统计 TCP 的 established, wait 等</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">wget</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{url}</span><span style="color:#A6ACCD;">                </span><span style="color:#676E95;font-style:italic;"># 下载，可加 --no-check-certificate，忽略ssl验证</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">wget</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-qO-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{url}</span><span style="color:#A6ACCD;">           </span><span style="color:#676E95;font-style:italic;"># 下载文件并输出到标准输出（不保存）</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">curl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-sL</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{url}</span><span style="color:#A6ACCD;">            </span><span style="color:#676E95;font-style:italic;"># 同 wget -qO- {url} 没有 wget 的时候使用</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sz</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{file}</span><span style="color:#A6ACCD;">                 </span><span style="color:#676E95;font-style:italic;"># 发送文件到终端，zmodem 协议</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">rz</span><span style="color:#A6ACCD;">                        </span><span style="color:#676E95;font-style:italic;"># 接收终端发送过来的文件</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h2 id="网络管理" tabindex="-1">网络管理 <a class="header-anchor" href="#网络管理" aria-label="Permalink to &quot;网络管理&quot;">​</a></h2><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight has-highlighted-lines"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ip</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">a</span><span style="color:#A6ACCD;">                               </span><span style="color:#676E95;font-style:italic;"># 显示所有网络地址，同 ip address</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ip</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">a</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">show</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">eth1</span><span style="color:#A6ACCD;">                     </span><span style="color:#676E95;font-style:italic;"># 显示网卡 IP 地址</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ip</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">a</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">add</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">172.16</span><span style="color:#C3E88D;">.1.23/24</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dev</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">eth1</span><span style="color:#A6ACCD;">   </span><span style="color:#676E95;font-style:italic;"># 添加网卡 IP 地址</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ip</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">a</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">del</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">172.16</span><span style="color:#C3E88D;">.1.23/24</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dev</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">eth1</span><span style="color:#A6ACCD;">   </span><span style="color:#676E95;font-style:italic;"># 删除网卡 IP 地址</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ip</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">link</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">show</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dev</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">eth0</span><span style="color:#A6ACCD;">              </span><span style="color:#676E95;font-style:italic;"># 显示网卡设备属性</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ip</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">link</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">set</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">eth1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">up</span><span style="color:#A6ACCD;">                </span><span style="color:#676E95;font-style:italic;"># 激活网卡</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ip</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">link</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">set</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">eth1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">down</span><span style="color:#A6ACCD;">              </span><span style="color:#676E95;font-style:italic;"># 关闭网卡</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ip</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">link</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">set</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">eth1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">address</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{mac}</span><span style="color:#A6ACCD;">     </span><span style="color:#676E95;font-style:italic;"># 修改 MAC 地址</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ip</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">neighbour</span><span style="color:#A6ACCD;">                       </span><span style="color:#676E95;font-style:italic;"># 查看 ARP 缓存</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ip</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">route</span><span style="color:#A6ACCD;">                           </span><span style="color:#676E95;font-style:italic;"># 查看路由表</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ip</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">route</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">add</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">10.1</span><span style="color:#C3E88D;">.0.0/24</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">via</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">10.0</span><span style="color:#C3E88D;">.0.253</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dev</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">eth0</span><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># 添加静态路由</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ip</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">route</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">del</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">10.1</span><span style="color:#C3E88D;">.0.0/24</span><span style="color:#A6ACCD;">           </span><span style="color:#676E95;font-style:italic;"># 删除静态路由</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ifconfig</span><span style="color:#A6ACCD;">                           </span><span style="color:#676E95;font-style:italic;"># 显示所有网卡和接口信息</span></span>
<span class="line highlighted"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ifconfig</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-a</span><span style="color:#A6ACCD;">                        </span><span style="color:#676E95;font-style:italic;"># 显示所有网卡（包括开机没启动的）信息</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ifconfig</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">eth0</span><span style="color:#A6ACCD;">                      </span><span style="color:#676E95;font-style:italic;"># 指定设备显示信息</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ifconfig</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">eth0</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">up</span><span style="color:#A6ACCD;">                   </span><span style="color:#676E95;font-style:italic;"># 激活网卡</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ifconfig</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">eth0</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">down</span><span style="color:#A6ACCD;">                 </span><span style="color:#676E95;font-style:italic;"># 关闭网卡</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ifconfig</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">eth0</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">192.168</span><span style="color:#C3E88D;">.120.56</span><span style="color:#A6ACCD;">       </span><span style="color:#676E95;font-style:italic;"># 给网卡配置 IP 地址</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ifconfig</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">eth0</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">10.0</span><span style="color:#C3E88D;">.0.8</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">netmask</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">255.255</span><span style="color:#C3E88D;">.255.0</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">up</span><span style="color:#A6ACCD;">     </span><span style="color:#676E95;font-style:italic;"># 配置 IP 并启动</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ifconfig</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">eth0</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">hw</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ether</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">00</span><span style="color:#C3E88D;">:aa:bb:cc:dd:ee</span><span style="color:#A6ACCD;">            </span><span style="color:#676E95;font-style:italic;"># 修改 MAC 地址</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nmap</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">10.0</span><span style="color:#C3E88D;">.0.12</span><span style="color:#A6ACCD;">                     </span><span style="color:#676E95;font-style:italic;"># 扫描主机 1-1000 端口</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nmap</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1024</span><span style="color:#C3E88D;">-65535</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">10.0</span><span style="color:#C3E88D;">.0.12</span><span style="color:#A6ACCD;">       </span><span style="color:#676E95;font-style:italic;"># 扫描给定端口</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nmap</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">10.0</span><span style="color:#C3E88D;">.0.0/24</span><span style="color:#A6ACCD;">                   </span><span style="color:#676E95;font-style:italic;"># 给定网段扫描局域网内所有主机</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nmap</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-O</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-sV</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">10.0</span><span style="color:#C3E88D;">.0.12</span><span style="color:#A6ACCD;">              </span><span style="color:#676E95;font-style:italic;"># 探测主机服务和操作系统版本</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h2 id="命令处理" tabindex="-1">命令处理 <a class="header-anchor" href="#命令处理" aria-label="Permalink to &quot;命令处理&quot;">​</a></h2><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight has-highlighted-lines"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">command</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ls</span><span style="color:#A6ACCD;">                         </span><span style="color:#676E95;font-style:italic;"># 忽略 alias 直接执行程序或者内建命令 ls</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">builtin</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cd</span><span style="color:#A6ACCD;">                         </span><span style="color:#676E95;font-style:italic;"># 忽略 alias 直接运行内建的 cd 命令</span></span>
<span class="line highlighted"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">enable</span><span style="color:#A6ACCD;">                             </span><span style="color:#676E95;font-style:italic;"># 列出所有 bash 内置命令，或禁止某命令</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">help</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{builtin_command}</span><span style="color:#A6ACCD;">             </span><span style="color:#676E95;font-style:italic;"># 查看内置命令的帮助（仅限 bash 内置命令）</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">eval</span><span style="color:#A6ACCD;"> $script                       </span><span style="color:#676E95;font-style:italic;"># 对 script 变量中的字符串求值（执行）</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="其他命令" tabindex="-1">其他命令 <a class="header-anchor" href="#其他命令" aria-label="Permalink to &quot;其他命令&quot;">​</a></h2><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight has-highlighted-lines has-diff"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">man</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">hier</span><span style="color:#A6ACCD;">                           </span><span style="color:#676E95;font-style:italic;"># 查看文件系统的结构和含义</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">man</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">test</span><span style="color:#A6ACCD;">                           </span><span style="color:#676E95;font-style:italic;"># 查看 posix sh 的条件判断帮助</span></span>
<span class="line highlighted"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">man</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ascii</span><span style="color:#A6ACCD;">                          </span><span style="color:#676E95;font-style:italic;"># 显示 ascii 表</span></span>
<span class="line highlighted"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">getconf</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">LONG_BIT</span><span style="color:#A6ACCD;">                   </span><span style="color:#676E95;font-style:italic;"># 查看系统是 32 位还是 64 位</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">bind</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-P</span><span style="color:#A6ACCD;">                            </span><span style="color:#676E95;font-style:italic;"># 列出所有 bash 的快捷键</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mount</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">column</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-t</span><span style="color:#A6ACCD;">                  </span><span style="color:#676E95;font-style:italic;"># 漂亮的列出当前加载的文件系统</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">curl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ip.cn</span><span style="color:#A6ACCD;">                         </span><span style="color:#676E95;font-style:italic;"># 取得外网 ip 地址和服务商信息</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">disown</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-a</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">exit</span><span style="color:#A6ACCD;">                  </span><span style="color:#676E95;font-style:italic;"># 关闭所有后台任务并退出</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cat</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/etc/issue</span><span style="color:#A6ACCD;">                     </span><span style="color:#676E95;font-style:italic;"># 查看 Linux 发行版信息</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">lsof</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">port:80</span><span style="color:#A6ACCD;">                    </span><span style="color:#676E95;font-style:italic;"># 哪个程序在使用 80 端口</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">showkey</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-a</span><span style="color:#A6ACCD;">                         </span><span style="color:#676E95;font-style:italic;"># 取得按键的 ASCII 码</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">svn</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">diff</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">view</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-</span><span style="color:#A6ACCD;">                  </span><span style="color:#676E95;font-style:italic;"># 使用 Vim 来显示带色彩的 diff 输出</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mv</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">filename.{old,new}</span><span style="color:#A6ACCD;">              </span><span style="color:#676E95;font-style:italic;"># 快速文件改名</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">time</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">read</span><span style="color:#A6ACCD;">                          </span><span style="color:#676E95;font-style:italic;"># 使用 CTRL-D 停止，最简单的计时功能</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cp</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">file.txt{,.bak}</span><span style="color:#A6ACCD;">                 </span><span style="color:#676E95;font-style:italic;"># 快速备份文件</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">touch</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/forcefsck</span><span style="color:#A6ACCD;">              </span><span style="color:#676E95;font-style:italic;"># 强制在下次重启时扫描磁盘</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">find</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">~</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-mmin</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">60</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-type</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">f</span><span style="color:#A6ACCD;">            </span><span style="color:#676E95;font-style:italic;"># 查找 $HOME 目录中，60 分钟内修改过的文件</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">curl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">wttr.in/~beijing</span><span style="color:#A6ACCD;">              </span><span style="color:#676E95;font-style:italic;"># 查看北京的天气预报</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">\${</span><span style="color:#A6ACCD;">SSH_CLIENT</span><span style="color:#89DDFF;">%%</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*}</span><span style="color:#A6ACCD;">             </span><span style="color:#676E95;font-style:italic;"># 取得你是从什么 IP 链接到当前主机上的</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">echo</span><span style="color:#A6ACCD;"> $</span><span style="color:#C3E88D;">[RANDOM%X+1]</span><span style="color:#A6ACCD;">                 </span><span style="color:#676E95;font-style:italic;"># 取得 1 到 X 之间的随机数</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">bind</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-x</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">&quot;\\C-l&quot;:ls -l</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">             </span><span style="color:#676E95;font-style:italic;"># 设置 CTRL+l 为执行 ls -l 命令</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">find</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-type</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">f</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-size</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">+5M</span><span style="color:#A6ACCD;">           </span><span style="color:#676E95;font-style:italic;"># 查找大于 5M 的文件</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">chmod</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--reference</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">f1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">f2</span><span style="color:#A6ACCD;">            </span><span style="color:#676E95;font-style:italic;"># 将 f2 的权限设置成 f1 一模一样的</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">curl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-L</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cheat.sh</span><span style="color:#A6ACCD;">                   </span><span style="color:#676E95;font-style:italic;"># 速查表大全</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><blockquote><p>内容来自：<a href="https://doc.zdzn.net/cheatsheet/bash.html" target="_blank" rel="noreferrer">BASH 中文速查表</a></p></blockquote>`,23),e=[o];function t(c,r,C,y,A,i){return n(),a("div",null,e)}const b=s(p,[["render",t]]);export{E as __pageData,b as default};
